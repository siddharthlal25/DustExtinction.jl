var documenterSearchIndex = {"docs":
[{"location":"color_laws/#laws-1","page":"Color Laws","title":"Color laws","text":"","category":"section"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"The following empirical laws allow us to model the reddening of light as it travels to us. The law you use should depend on the type of data you have and the goal of its use. ccm89 is very common for use in removing extinction from stellar observations, but cal00, for instance, is suited for galaxies with massive stars. Look through the citations and documentation for each law to get a better idea of what sort of physics it targets. ","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"DocTestSetup = quote\n    using DustExtinction, Random\n    Random.seed!(1)\nend","category":"page"},{"location":"color_laws/#Usage-1","page":"Color Laws","title":"Usage","text":"","category":"section"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"julia> ccm89(4000., 3.1)\n1.464555702942584\n","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"These laws can be applied across higher dimension arrays using the . operator","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"julia> ccm89.([4000., 5000.], 3.1)\n2-element Array{Float64,1}:\n 1.464555702942584\n 1.1222468788993019\n","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"these laws return magnitudes, which we can apply directly to flux by mulitplication with a base-2.5 logarithmic system (because astronomers are fun):","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"f = f cdot 10 ^ -04A_vcdot mag","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"To make this easier, we provide a convenient redden function for applying these color laws to flux measurements.","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"julia> wave = range(4000, 5000, length=4)\n4000.0:333.3333333333333:5000.0\n\njulia> flux = 1e-8 .* wave .+ 1e-2\n0.01004:3.3333333333333333e-6:0.01005\n\njulia> redden.(flux, wave, 0.3)\n4-element Array{Float64,1}:\n 0.006698646015454752\n 0.006918253926353551\n 0.007154659823737299\n 0.007370491272731541\n","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"note: Note\nIf you are concerned with memory and would like an in-place broadcasted version of redden use it with Base.map!map!((f,w)->redden(f, w, 0.3), flux, flux, wave)","category":"page"},{"location":"color_laws/#Advanced-Usage-1","page":"Color Laws","title":"Advanced Usage","text":"","category":"section"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"The color laws also have built-in support for uncertainties using Measurements.jl.","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"julia> using Measurements\n\njulia> ccm89.([4000. 卤 10.5, 5000. 卤 10.2], 3.1)\n2-element Array{Measurement{Float64},1}:\n 1.4646 卤 0.0033\n 1.1222 卤 0.003\n","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"and also support units via Unitful.jl and its subsidiaries. Notice how the output type is now Unitful.Gain.","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"julia> using Unitful, UnitfulAstro\n\njulia> mags = ccm89.([4000u\"angstrom\", 0.5u\"渭m\"], 3.1)\n2-element Array{Gain{Unitful.LogInfo{:Magnitude,10,-2.5},:?,Float64},1}:\n 1.4645557029425837 mag\n 1.1222468788993019 mag\n","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"You can even combine the two above to get some really nice workflows exploiting all Julia has to offer! This example shows how you could redden some OIR observational data with uncertainties in the flux density.","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"julia> using Measurements, Unitful, UnitfulAstro\n\njulia> wave = range(0.3, 1.0, length=5)u\"渭m\"\n(0.3:0.175:1.0) 渭m\n\njulia> err = randn(length(wave))\n5-element Array{Float64,1}:\n  0.2972879845354616\n  0.3823959677906078\n -0.5976344767282311\n -0.01044524463737564\n -0.839026854388764\n\njulia> flux = @.(300 / ustrip(wave)^4 卤 err)*u\"Jy\"\n5-element Array{Quantity{Measurement{Float64},*^-2,Unitful.FreeUnits{(Jy,),*^-2,nothing}},1}:\n  37037.04 卤 0.3 Jy\n  5893.14 卤 0.38 Jy\n  1680.61 卤 -0.6 Jy\n 647.598 卤 -0.01 Jy\n   300.0 卤 -0.84 Jy\n\njulia> redden.(flux, wave, 0.3)\n5-element Array{Quantity{Measurement{Float64},*^-2,Unitful.FreeUnits{(Jy,),*^-2,nothing}},1}:\n    22410.8 卤 0.18 Jy\n    4229.74 卤 0.27 Jy\n    1337.12 卤 0.48 Jy\n 554.3349 卤 0.0089 Jy\n     268.31 卤 0.75 Jy\n","category":"page"},{"location":"color_laws/#API/Reference-1","page":"Color Laws","title":"API/Reference","text":"","category":"section"},{"location":"color_laws/#Helper-Functions-1","page":"Color Laws","title":"Helper Functions","text":"","category":"section"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"redden\nderedden","category":"page"},{"location":"color_laws/#DustExtinction.redden","page":"Color Laws","title":"DustExtinction.redden","text":"redden(f::Real, 位::Real, Av; RV=3.1, law=ccm89)\nredden(f::Quantity, 位::Quantity, Av; RV=3.1, law=ccm89)\n\nRedden the value f by the value calculated via the given law and total  extinction value Av. By default we use RV=3.1 which is the Milky Way  average selective attenuation. Note that 位 should be in Angstrom if it is not  a Quantity.\n\n\n\n\n\n","category":"function"},{"location":"color_laws/#DustExtinction.deredden","page":"Color Laws","title":"DustExtinction.deredden","text":"deredden(f::Real, 位::Real, Av; RV=3.1, law=ccm89)\nderedden(f::Quantity, 位::Quantity, Av; RV=3.1, law=ccm89)\n\nDeredden the value f by the value calculated via the given law and total  extinction value Av. By default we use RV=3.1 which is the Milky Way  average selective attenuation. Note that 位 should be in Angstrom if it is not  a Quantity.\n\n\n\n\n\n","category":"function"},{"location":"color_laws/#Parametric-Extinction-Laws-1","page":"Color Laws","title":"Parametric Extinction Laws","text":"","category":"section"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"These laws are all parametrized by the selective extinction RV. Mathematically, this is the ratio of the total extinction by the reddening","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"R_V = fracA_VE(B-V)","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"and is loosely associated with the size of the dust grains in the interstellar medium.","category":"page"},{"location":"color_laws/#Clayton,-Cardelli-and-Mathis-(1989)-1","page":"Color Laws","title":"Clayton, Cardelli and Mathis (1989)","text":"","category":"section"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"using Plots, LaTeXStrings\nimport DustExtinction: ccm89_ca, ccm89_cb, ccm89_invum\nw = range(0.3, 10.0, length=1000)\nplot()\nfor rv in [2.0, 3.0, 3.1, 4.0, 5.0, 6.0]\n  m = ccm89_invum.(w, rv, Ref(ccm89_ca), Ref(ccm89_cb))\n  plot!(w, m, label=\"RV=$rv\")\nend\nxlabel!(L\"\\mu m ^{-1}\")\nylabel!(L\"E(B-V)\")\nsavefig(\"ccm89_plot.svg\")","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"<img src=\"ccm89_plot.svg\" style=\"max-width:80%; display: block; margin-left: auto; margin-right: auto\">","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"ccm89","category":"page"},{"location":"color_laws/#DustExtinction.ccm89","page":"Color Laws","title":"DustExtinction.ccm89","text":"ccm89(位::Real,RV=3.1)\nccm89(位::Quantity,RV=3.1)\n\nClayton,CardelliandMathis(1989)dustlaw.\n\nReturnsE(B-V)inmagnitudesatthegivenwavelengthrelativetotheextinction at5494.5.位isthewavelengthinandhassupportover[1000,33333]. Outsideofthatrangethiswillreturn0.RVistheselectiveextinction andisvalidover[2,6].AtypicalvaluefortheMilkyWayis3.1\n\nIf位isaUnitful.Quantityitwillbeautomaticallyconvertedtoandthe returnedvaluewillbeUnitfulAstro.mag.\n\n#References [1] Clayton,Cardelli and Mathis (1989)\n\n\n\n\n\n","category":"function"},{"location":"color_laws/#O'Donnell-1994-1","page":"Color Laws","title":"O'Donnell 1994","text":"","category":"section"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"using Plots, LaTeXStrings\nimport DustExtinction: od94_ca, od94_cb, ccm89_invum\nw = range(0.3, 10.0, length=1000)\nplot()\nfor rv in [2.0, 3.0, 3.1, 4.0, 5.0, 6.0]\n  m = ccm89_invum.(w, rv, Ref(od94_ca), Ref(od94_cb))\n  plot!(w, m, label=\"RV=$rv\")\nend\nxlabel!(L\"\\mu m ^{-1}\")\nylabel!(L\"E(B-V)\")\nsavefig(\"od94_plot.svg\")","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"<img src=\"od94_plot.svg\" style=\"max-width:80%; display: block; margin-left: auto; margin-right: auto\">","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"od94","category":"page"},{"location":"color_laws/#DustExtinction.od94","page":"Color Laws","title":"DustExtinction.od94","text":"od94(位::Real,RV=3.1) od94(位::Quantity,RV=3.1)\n\nO'Donnell(1994)dustlaw.\n\nThisisidenticaltotheClayton,CardelliandMathis(1989)dustlaw,except fordifferentcoefficientsusedintheoptical(3030.3to9090.9).\n\nIf位isaUnitful.Quantityitwillbeautomaticallyconvertedtoand thereturnedvaluewillbeUnitfulAstro.mag.\n\n#References [1]O'Donnell(1994)\n\n#SeeAlso ccm89\n\n\n\n\n\n","category":"function"},{"location":"color_laws/#Calzetti-et-al.-(2000)-1","page":"Color Laws","title":"Calzetti et al. (2000)","text":"","category":"section"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"using Plots, LaTeXStrings\nimport DustExtinction: cal00_invum\nw = range(0.46, 8.3, length=1000)\nplot()\nfor rv in [2.0, 3.0, 4.05, 5.0, 6.0]\n  m = cal00_invum.(w, rv)\n  plot!(w, m, label=\"RV=$rv\")\nend\nxlabel!(L\"\\mu m ^{-1}\")\nylabel!(L\"E(B-V)\")\nsavefig(\"cal00_plot.svg\")","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"<img src=\"cal00_plot.svg\" style=\"max-width:80%; display: block; margin-left: auto; margin-right: auto\">","category":"page"},{"location":"color_laws/#","page":"Color Laws","title":"Color Laws","text":"cal00","category":"page"},{"location":"color_laws/#DustExtinction.cal00","page":"Color Laws","title":"DustExtinction.cal00","text":"cal00(位::Real,RV=4.05) cal00(位::Quantity,RV=4.05)\n\nCalzettietal.(2000)DustLaw.\n\nReturnsE(B-V)inmagnitudesatthegivenwavelength.位isthewavelengthin andhassupportover[1200,22000].Outsideofthatrangethiswillreturn0.\n\nCalzettietal.(2000)developedarecipefordereddeningthespectraof galaxieswheremassivestarsdominatetheradiationoutput.Theyfoundthebest fitvalueforsuchgalaxieswas4.05卤0.80.\n\nIf位isaUnitful.Quantityitwillbeautomaticallyconvertedtoandthe returnedvaluewillbeUnitfulAstro.mag.\n\n#References [1]Calzettietal.(2000)\n\n\n\n\n\n","category":"function"},{"location":"#DustExtinction.jl-1","page":"Home","title":"DustExtinction.jl","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"This package implements different empirical dust measurements for use in astronomy. This package is written in pure Julia and is built with first-class support with Unitful.jl and Measurements.jl.","category":"page"},{"location":"#About-1","page":"Home","title":"About","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Extinction describes the effect of dust grains on observations of stars in space. Light that travels through dust is absorbed and scatterred as natural processes of light's interactions with materials. This obfuscation can be modeled and removed from our data in order to more properly retrieve the star's flux. When dealing with multiple stars, or large clusters or galaxies, this process is considered dust attenuation and is not provided for in this package.","category":"page"},{"location":"#Installation-1","page":"Home","title":"Installation","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"From the REPL, press ] to enter Pkg mode","category":"page"},{"location":"#","page":"Home","title":"Home","text":"(v 1.2) pkg> add DustExtinction\n\njulia> using DustExtinction","category":"page"},{"location":"#Usage-1","page":"Home","title":"Usage","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"julia> using DustExtinction\n\njulia> ccm89(4000., 3.1)\n1.464555702942584\n","category":"page"},{"location":"#","page":"Home","title":"Home","text":"For more examples, view the Color Laws and Dust Maps sections.","category":"page"},{"location":"#Citations-1","page":"Home","title":"Citations","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"There are various citations relevant to this work. Please be considerate when using this work or any derivate of it by adding the appropriate citations.","category":"page"},{"location":"#","page":"Home","title":"Home","text":"ccm89 -  Clayton, Cardelli and Mathis (1989) - BibTex","category":"page"},{"location":"#","page":"Home","title":"Home","text":"od94 - O'Donnell (1994) - BibTex","category":"page"},{"location":"#","page":"Home","title":"Home","text":"cal00 - Calzetti et al. (2000) - BibTex","category":"page"},{"location":"#","page":"Home","title":"Home","text":"SFD98Map - Schlegel, Finkbeiner and Davis (1998) - BibTex","category":"page"},{"location":"#Index-1","page":"Home","title":"Index","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Modules = [DustExtinction]\nOrder = [:function, :type]","category":"page"},{"location":"#Contributing-1","page":"Home","title":"Contributing","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"If you are interested in contributing, feel free to make a pull request or open an issue for discussion.","category":"page"},{"location":"dust_maps/#maps-1","page":"Dust Maps","title":"Dust Maps","text":"","category":"section"},{"location":"dust_maps/#Usage-1","page":"Dust Maps","title":"Usage","text":"","category":"section"},{"location":"dust_maps/#","page":"Dust Maps","title":"Dust Maps","text":"DocTestSetup = quote\n    using DustExtinction, Random\n    Random.seed!(1)\nend","category":"page"},{"location":"dust_maps/#","page":"Dust Maps","title":"Dust Maps","text":"julia> dustmap = SFD98Map();\n\njulia> dustmap(0, 2)\n0.020303287464050277\n\njulia> l = range(-, , length=5)\n-3.141592653589793:1.5707963267948966:3.141592653589793\n\njulia> b = range(-/2, /2, length=5)\n-1.5707963267948966:0.7853981633974483:1.5707963267948966\n\njulia> [dustmap(l[i], b[j]) for i in 1:length(l), j in 1:length(b)]\n55 Array{Float64,2}:\n 0.0159853  0.105782    1.40486  0.0158918  0.0119615\n 0.0159853  0.0268289   3.47788  0.0654852  0.0119615\n 0.0159853  0.0343457  99.6976   0.103875   0.0119615\n 0.0159853  0.0432165   2.60569  0.0178195  0.0119615\n 0.0159853  0.105782    1.40486  0.0158918  0.0119615\n","category":"page"},{"location":"dust_maps/#Advanced-Usage-1","page":"Dust Maps","title":"Advanced Usage","text":"","category":"section"},{"location":"dust_maps/#","page":"Dust Maps","title":"Dust Maps","text":"Our dust maps also have native support for Unitful.jl and Measurements.jl.","category":"page"},{"location":"dust_maps/#","page":"Dust Maps","title":"Dust Maps","text":"julia> using Measurements, Unitful\n\njulia> l = 45u\"掳\"; b=0u\"掳\";\n\njulia> dustmap = SFD98Map();\n\njulia> dustmap(l, b)\n6.4290331211742355 mag\n\njulia> l = l 卤 0.1u\"掳\"; b = b 卤 0.3u\"掳\";\n\njulia> dustmap(l, b)\n6.4 卤 5.7 mag\n","category":"page"},{"location":"dust_maps/#API/Reference-1","page":"Dust Maps","title":"API/Reference","text":"","category":"section"},{"location":"dust_maps/#Schlegel,-Finkbeiner-and-Davis-(1998)-1","page":"Dust Maps","title":"Schlegel, Finkbeiner and Davis (1998)","text":"","category":"section"},{"location":"dust_maps/#","page":"Dust Maps","title":"Dust Maps","text":"using Plots, DustExtinction\nl = range(-pi, pi, length=400)\nb = range(-pi/64, pi/64, length=300)\ndustmap = SFD98Map()\nm = [dustmap(li, bj) for li in l, bj in b]\nheatmap(l, b, m, label=\"\", transpose=true, colorbar_title=\"E(B-V)\")\nxlabel!(\"l (rad)\")\nylabel!(\"b (rad)\")\nsavefig(\"sfd98_plot.svg\")","category":"page"},{"location":"dust_maps/#","page":"Dust Maps","title":"Dust Maps","text":"<img src=\"sfd98_plot.svg\" style=\"max-width:80%; display: block; margin-left: auto; margin-right: auto\">","category":"page"},{"location":"dust_maps/#","page":"Dust Maps","title":"Dust Maps","text":"SFD98Map","category":"page"},{"location":"dust_maps/#DustExtinction.SFD98Map","page":"Dust Maps","title":"DustExtinction.SFD98Map","text":"SFD98Map([mapdir])\n\nSchlegel, Finkbeiner and Davis (1998) dust map. \n\nmapdir should be a directory  containing the two FITS files defining the map, which are downloaded during the  build step automatically, SFD_dust_4096_[ngp,sgp].fits. If not provided, will  automatically provide this package's build folder unless the SFD98_DIR  environement variable is set. Internally, this type keeps the FITS files defining  the map open, speeding up repeated queries for E(B-V) values.\n\nReferences\n\n[1] Schlegel, Finkbeiner and Davis (1998)\n\n\n\n\n\n(dustmap::SFD98Map)(l::Real, b::Real)\n(dustmap::SFD98Map)(l::Quantity, b::Quantity)\n\nGet E(B-V) value from a SFD98Map instance at galactic coordinates (l, b),  given in radians. Uses bilinear interpolation between pixel values. If l and  b are Unitful.Quantity they will be converted to radians and the output  will be given as UnitfulAstro.mag.\n\nExample\n\njulia> using DustExtinction\n\njulia> m = SFD98Map();\n\njulia> m(1, 2)\n0.013439524544325624\n\njulia> l = 0:0.5:2; b = 0:0.5:2;\n\njulia> m.(l, b)\n5-element Array{Float64,1}:\n 99.69757461547852    \n  0.10180447359074371 \n  0.019595484241066132\n  0.010238757633890877\n  0.01862100327420125 \n\n\n\n\n\n","category":"type"}]
}
